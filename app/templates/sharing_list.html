{% extends "home_base.html" %}

{% block title %}DailyBite - Sharing List{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='style_dashboard.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='style_sharing_list.css') }}">
{% endblock %}

{% block content %}
<h1 class="sharing-list-title">Sharing List</h1>

<div class="sharing-list-container">
    {% if shares %}
        {% for share in shares %}
        <!-- V：让整个 .sharing-item 可点击 查看详情 -->
        <a href="{{ url_for('main.view_share', share_id=share.id) }}" class="sharing-item-link"> 
            <div class="sharing-item">
                <div class="sharing-avatar">
                    <i class="fa-solid fa-user fa-lg"></i>
                </div>
                <div class="sharing-content">
                    <div class="sharing-user">{{ share.sender.username }}</div>
                    <div class="sharing-text">
                        Shared you a 
                        {% if share.content_type == 'ranking' %}
                            Ranking.
                        {% elif share.content_type == 'calorie' %}
                            {{ share.date_range|capitalize }}'s Calorie Intake
                        {% endif %}
                    </div>
                </div>
                <div class="sharing-time">{{ share.elapsed_time }}</div>
            </div>
        </a>
        {% endfor %}
    {% else %}
        <div class="no-shares">
            <p class="text-muted text-center my-5">No shared content yet.</p>
        </div>
    {% endif %}
</div>
{% endblock %}